<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cardio Sport - Rezervácia vstupu</title>
    
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <?!= include("form-css") ?>
    <?!= include("notification-css") ?>
    <?!= include("loading-screen-css") ?>
</head>
<body>
    <div id="page">
        <header>
            <img id="headerImage" src="https://i.imgur.com/PfVClfw.png" alt="Fitness centrum Cardio Sport">
        </header>
        
        <nav>
            <!-- <a class="navButton" href="#info">Informácie</a> -->
            <a class="navButton" href="#form">Formulár</a>
            <a class="navButton" href="https://www.facebook.com/groups/207982942629720/" target="_blank">Facebook</a>
        </nav>
        
        <main>
            <div class="section">
                <h2>Prosíme vas, ...</h2>
                <ol>
                    <li><a href="https://automat.gov.sk/kosice">Riaďte sa podľa aktuálnych opatrení pre fitness centrá!!!</a> Majte so sebou platný negatívny test na ochorenie COVID-19, doklad o očkovaní alebo doklad o prekonaní ochorenia COVID-19. Bez toho vás nemôžeme pustiť zacvičiť si aj keď si zarezervujete termín.</li>
                    <li>Pri každej návšteve fitness centra sa zapíšte na tlačivo, ktoré sa nachádza hneď pri vchode do fitness centra na polte. Je potrebne vyplniť meno, priezvisko, kontakt a podpísať to.</li>
                    <li>Noste si so sebou a používajte vlastný uterák.</li>
                    <li>Po cvičení vydezinfikujte po sebe náradie, stroje a lavičky, ktoré ste použili.</li>
                </ol>
            </div>
            
            <div class="section">
                <h2>Cenník</h2>
                <span>Jednorazový vstup: 2€</span>
                <span>Permanentky: Bohužiaľ momentálne permanentky nevydávame/nepredlžujeme.</span>
            </div>
            
            <div class="section">
                <h2>Otváracie hodiny a termíny</h2>
                <span>Pondelok: 13:00 - 15:00, 15:00 - 16:30, 16:30 - 18:30, 18:30 - 20:00</span>
                <span>Utorok: 15:00 - 16:30, 16:30 - 18:30, 18:30 - 20:00</span>
                <span>Streda: 13:00 - 15:00, 15:00 - 16:30, 16:30 - 18:30, 18:30 - 20:00</span>
                <span>Štvrtok: 15:00 - 16:30, 16:30 - 18:30, 18:30 - 20:00</span>
                <span>Piatok : 13:00 - 15:00, 15:00 - 16:30, 16:30 - 18:30, 18:30 - 20:00</span>
                <span>Sobota: 16:00 - 18:00, 18:00 - 20:00</span>
                <span>Nedeľa: 16:00 - 18:00, 18:00 - 20:00</span>
                <br>
                <span>
                    UPOZORNENIE: V Utorok a Štvrtok o 17:30 - 18:30 sa v zadnej časti posilňovne (kde sú vzpieračské pódia, stojan, klietka, leg press a rotopédy) konajú hodiny spinningu. 
                    Počas tejto doby je zadná časť vyhradená iba pre spinning a iným návštevníkom nedostupná a uzavretá!
                </span>
            </div>
            
            <div class="section">
                <h2>Rozvrh vypisovania nových termínov</h2>
                <span>Utorok: Vypíšu sa termíny na Štvrtok, Piatok, Sobotu, Nedeľu.</span>
                <span>Piatok : Vypíšu sa termíny na Pondelok, Utorok, Stredu.</span>
            </div>
            
            <div id="form" class="column">
                <h2>Formulár</h2>
                <div class="section row">
                    <div class="field-container">
                        <label for="name">Meno *</label>
                        <input class="field white" type="text" name="name" placeholder=" " required>
                    </div>
                    
                    <div class="field-container">
                        <label for="surname">Priezvisko *</label>
                        <input class="field white" type="text" name="surname" placeholder=" " required>
                    </div>
                </div>
                
                <div class="section row">
                    <div class="field-container">
                        <label for="emailAddress">E-mailová adresa</label>
                        <div class="details">
                            Táto položka <b>NIE JE</b> povinná!
                            Ak si želáte dostať potvrdenie o prijatí vašej rezervácie, zadajte vašu e-mailovú adresu a mi vám ihneď zašleme potvrdenie, že sme vašu rezerváciu na vami vybrané termíny prijali. Taktiež v prípade, ak si želáte neskôr zrušiť danú rezerváciu, môžete na daný e-mail odpovedať s vašou požiadavkou o zrušenie rezervácie. 
                            Nič iné vám na e-mailovú adresu nebudeme zasielať a nebudeme ju distribuovať iným osobám.
                        </div>
                        <input class="field white" type="email"  name="emailAddress" placeholder=" ">
                    </div>
                </div>
                
                <div class="section">
                    <h2>Voľné termíny</h2>
                    <div class="sessions">
                        <? 
                            let buttonClass = "";
                        ?>
                        <? if(Object.keys(sessions).length == 0)
                        { ?>
                            <? buttonClass = "disabled"; ?>
                            <span>Nie sú vypísané žiadne termíny.</span>
                        <? } ?>
                        
                        <? for(const dateString in sessions) 
                        { ?>
                            <div class="daySessions">
                                <h3><?= sessions[dateString].day ?>, <?= dateString ?></h3>
                                <? if(sessions[dateString]["free"].length <= 0) { ?> <span>Nie sú žiadne voľné termíny.</span> <? } ?>
                                <? for(let i = 0; i < sessions[dateString]["free"].length; i++) 
                                { 
                                    let session = sessions[dateString]["free"][i];
                                    let timeString = session.getTimeString; 
                                    let capacity = session.capacity;
                                    let freeSpaces = session.getFreeSpaces;
                                ?>
                                    <div class="session">
                                        <input id="<?= dateString ?>-<?= timeString ?>" type="checkbox" name="<?= dateString ?>" value="<?= timeString ?>">
                                        <label for="<?= dateString ?>-<?= timeString ?>"><?= timeString ?> (<?= freeSpaces ?>/<?= capacity ?>)</label>
                                    </div>
                                <? } ?>
                            </div>
                        <? } ?>
                    </div>
                </div>
                
                <button id="sendButton" class="button succes <?= buttonClass ?>">Odoslať</button>
            </div>
        </main>
    </div>
    
    <div id="notifications"></div>
    
    <script
        src="https://code.jquery.com/jquery-3.6.0.min.js"
        integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
        crossorigin="anonymous">
    </script>
    
    <?!= include("loading-screen-js") ?>
    <?!= include("notification-js") ?>
    <?!= include("form-js") ?>
</body>
</html>